!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=7)}([function(t,e,i){"use strict";var n={};i.r(n),i.d(n,"convertBase",(function(){return o})),i.d(n,"isPrime",(function(){return r})),i.d(n,"toDigits",(function(){return h})),i.d(n,"objectId",(function(){return l}));var s={};i.r(s),i.d(s,"sizeCanvas",(function(){return u})),i.d(s,"sizeCanvasMax",(function(){return c}));const o=function(t,e,i){let n=t.reduce((t,i,n)=>t+i*Math.pow(e,n)),s=[];for(;n>0;)s.push(n%i),n=Math.floor(n/i);return s},r=function(t){if(t<=1)return!1;if(2===t)return!0;if(t%2==0)return!1;for(let e=3;e<=Math.sqrt(t)+2;e+=2)if(t%e==0)return!1;return!0},h=function(t){let e=[];for(;t>0;)e.push(t%10),t=Math.floor(t/10);return e};let a=new WeakMap,d=0;const l=function(t){return a.has(t)||a.set(t,++d),a.get(t)};function u(t){const e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0);let n,s;s=e>1100?"1100px":e>800?"800px":e>600?"600px":e>500?"500px":"400px",n=i>1100?"900px":i>800?"900px":"400px",t.style.width=s,t.style.height=n,t.width=t.offsetWidth,t.height=t.offsetHeight}const c=t=>{const e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0);t.style.width=.8*e,t.style.height=.8*i,t.width=t.offsetWidth,t.height=t.offsetHeight};i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return n}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return generateTree})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addOneIterationToTree}));var _utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);let nodeHash={},nodesWithChildren={},nodesWithoutChildrenQueue=[],nodeCount=0;const generateTree=function(t){nodeHash={},nodesWithChildren={},nodesWithoutChildrenQueue=[],nodeCount=0;let e=t.seed,i=t.iterations,n=(t.maxNodes,t.showPrimes),s=t.showComposites,o=t.decreasingChildren,r=t.increasingChildren,h=t.maxChildNodes,a=new MirrorNum(10,_utils__WEBPACK_IMPORTED_MODULE_0__.b.toDigits(e)),d=new MirrorTreeNode(a);nodeHash[d.decValue]=d,nodesWithoutChildrenQueue=[d],nodeCount++;let l=0,u=void 0;for(;l<i;l++)(u=nodesWithoutChildrenQueue.shift())&&(u.addChildren(h,n,s,o,r),nodesWithChildren[u.decValue]=u);return{nodeHash:nodeHash,nodesWithChildren:nodesWithChildren,nodesWithoutChildrenQueue:nodesWithoutChildrenQueue,nodeCount:nodeCount}},addOneIterationToTree=function(t,e){nodeHash=t.nodeHash,nodesWithChildren=t.nodesWithChildren,nodesWithoutChildrenQueue=t.nodesWithoutChildrenQueue,nodeCount=t.nodeCount;let i=e.maxChildNodes,n=e.showPrimes,s=e.showComposites,o=void 0;return(o=nodesWithoutChildrenQueue.shift())&&(o.addChildren(i,n,s),nodesWithChildren[o.decValue]=o),{nodeHash:nodeHash,nodesWithChildren:nodesWithChildren,nodesWithoutChildrenQueue:nodesWithoutChildrenQueue,nodeCount:nodeCount}},MirrorTreeNode=class MirrorTreeNode{constructor(t,e){this.mirrorNum=t,this.parent=e,this.children={},this.decValue=t.decValue,this.childCount=0}addChild(t,e){this.children[t]=e}addChildren(maxChildNodes,showPrimes,showComposites,decreasingChildren,increasingChildren){let nextChild=void 0,nextMirrorNum=void 0,primes=void 0;primes=showPrimes&&showComposites?"true":showPrimes&&!showComposites?"nextMirrorNum.isPrime":!showPrimes&&showComposites?"!nextMirrorNum.isPrime":"false";for(let i=2;i<this.mirrorNum.decValue;i++)nextMirrorNum=this.mirrorNum.toBase(i).reverse(),nextMirrorNum.decValue>this.mirrorNum.decValue&&eval(primes)&&this.childCount<maxChildNodes&&!nodeHash[nextMirrorNum.decValue]&&(nextChild=new MirrorTreeNode(nextMirrorNum,this),this.addChild(i,nextChild),this.childCount++,nodeHash[nextChild.decValue]=nextChild,nodesWithoutChildrenQueue.push(nextChild),nodeCount++)}},MirrorNum=class t{constructor(t,e){this.base=t,this.digits=e,this.decValue=this.toInt(),this.isPrime=void 0,this.calcPrime()}toBase(e){let i=_utils__WEBPACK_IMPORTED_MODULE_0__.b.convertBase(this.digits,this.base,e);return new t(e,i)}reverse(){let e=this.digits.reverse();return new t(this.base,e)}toInt(){return this.digits.reduce((t,e,i)=>t+e*Math.pow(this.base,i))}calcPrime(){if(this.isPrime)return this.isPrime;{let t=_utils__WEBPACK_IMPORTED_MODULE_0__.b.isPrime(this.decValue);return this.isPrime=t,t}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Circle=class{constructor(t,e,i,n,s=2,o="red"){this.x=0,this.y=0,this.radius=10,this.lineWidth=2,this.color="red",this.draw=()=>{this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle=this.color,this.ctx.lineWidth=this.lineWidth,this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI),this.ctx.stroke(),this.ctx.restore()},this.ctx=t,this.x=e,this.y=i,this.radius=n,this.lineWidth=s,this.color=o}};e.Rectangle=class{constructor(t,e,i,n=100,s=100,o=2,r="red"){this.draw=()=>{this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle=this.color,this.ctx.lineWidth=this.lineWidth,this.ctx.rect(this.x,this.y,this.width,this.height),this.ctx.stroke(),this.ctx.restore()},this.ctx=t,this.x=e,this.y=i,this.width=n,this.height=s,this.lineWidth=o,this.color=r}};e.Point=class{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=(t,e,i,s,o,r,h,a)=>{t.beginPath(),t.save(),t.translate(e,i),t.rotate(o*Math.PI/180),t.moveTo(0,0),t.lineTo(0,-s),t.shadowBlur=1,t.shadowColor="rgba(0,0,0,0.75)",t.stroke(),s<10?t.restore():(n(t,0,-s,.8*s,(o-r)*(1-h),r,h,.8*a),n(t,0,-s,.8*s,(o+r)*h,r,h,.8*a),t.restore())};e.default=()=>{const t=document.getElementById("canvas"),e=document.getElementById("canvas-div");let i=t.getContext("2d");const s=e.offsetWidth,o=e.offsetHeight;t.width=s,t.height=o;const r=s/2,h=o/1.1,a=o/8;n(i,r,h,a,0,20,.5,10),document.getElementById("inputs").addEventListener("change",()=>{i.clearRect(0,0,t.width,t.height);const e=document.getElementById("angle-input"),s=document.getElementById("angle-rate-input"),o=document.getElementById("left-right-diff-input"),d=Number(e.value),l=Number(s.value),u=Number(o.value);n(i,r,h,a,d,l,u,10)})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(5),s=t=>{const e=document.getElementById("cnvs").getContext("2d"),i=new Array;for(let s=0;s<t;s++){let t=new n.Asteroid(e);i.push(t)}!function t(){requestAnimationFrame(t),e.fillStyle="black",e.fillRect(0,0,1280,720),i.forEach(t=>{t.draw()})}()};e.default=()=>{const t=document.getElementById("asteroid-count-input"),e=Number(t.value);s(e),document.getElementById("inputs").addEventListener("change",()=>{const t=document.getElementById("asteroid-count-input"),e=Number(t.value);s(e)})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(2);e.Circle=n.Circle,e.Rectangle=n.Rectangle;const s=i(6);e.Asteroid=s.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(2);e.default=class{constructor(t,e,i,s,o="white",r=2){this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.lineWidth=5,this.color="white",this.size=20,this.rotation=0,this.rotationSpeed=0,this.pointList=new Array,this.draw=()=>{this.x+=this.velocityX,this.y+=this.velocityY,this.x<2*-this.size?this.x=1280+2*this.size:this.x>1280+2*this.size&&(this.x=-2*this.size),this.y<2*-this.size?this.y=720+2*this.size:this.y>720+2*this.size&&(this.y=-2*this.size),this.rotation+=this.rotationSpeed,this.ctx.save(),this.ctx.translate(this.x,this.y),this.ctx.rotate(this.rotation),this.ctx.beginPath(),this.ctx.strokeStyle=this.color,this.ctx.lineWidth=this.lineWidth,this.ctx.moveTo(this.pointList[this.pointList.length-1].x,this.pointList[this.pointList.length-1].y);for(var t=0;t<this.pointList.length;t++)this.ctx.lineTo(this.pointList[t].x,this.pointList[t].y);this.ctx.closePath(),this.ctx.stroke(),this.ctx.restore()},this.ctx=t,this.x=null==e?Math.round(1280*Math.random()):e,this.y=null==i?Math.round(720*Math.random()):i,this.size=null==s?Math.ceil(10*Math.random())+4:s,this.velocityX=Math.round(4*Math.random()-2),this.velocityY=Math.round(4*Math.random()-2),this.rotationSpeed=.06*Math.random()-.03;var h=0,a=0;h=Math.round(Math.random()*this.size-this.size/2),a=Math.round(Math.random()*this.size-this.size/2),this.pointList.push(new n.Point(h,a+3*this.size)),h=Math.round(Math.random()*this.size-this.size/2),a=Math.round(Math.random()*this.size-this.size/2),this.pointList.push(new n.Point(h-1*this.size,a+2*this.size)),h=Math.round(Math.random()*this.size-this.size/2),a=Math.round(Math.random()*this.size-this.size/2),this.pointList.push(new n.Point(h-2*this.size,a+2*this.size)),h=Math.round(Math.random()*this.size-this.size/2),a=Math.round(Math.random()*this.size-this.size/2),this.pointList.push(new n.Point(h-3*this.size,a+this.size)),h=Math.round(Math.random()*this.size-this.size/2),a=Math.round(Math.random()*this.size-this.size/2),this.pointList.push(new n.Point(h-4*this.size,a)),h=Math.round(Math.random()*this.size-this.size/2),a=Math.round(Math.random()*this.size-this.size/2),this.pointList.push(new n.Point(h-1*this.size,a-3*this.size)),h=Math.round(Math.random()*this.size-this.size/2),a=Math.round(Math.random()*this.size-this.size/2),this.pointList.push(new n.Point(h+2*this.size,a-4*this.size)),h=Math.round(Math.random()*this.size-this.size/2),a=Math.round(Math.random()*this.size-this.size/2),this.pointList.push(new n.Point(h+2*this.size,a-3*this.size)),h=Math.round(Math.random()*this.size-this.size/2),a=Math.round(Math.random()*this.size-this.size/2),this.pointList.push(new n.Point(h+4*this.size,a-2*this.size)),h=Math.round(Math.random()*this.size-this.size/2),a=Math.round(Math.random()*this.size-this.size/2),this.pointList.push(new n.Point(h+4*this.size,a+this.size)),h=Math.round(Math.random()*this.size-this.size/2),a=Math.round(Math.random()*this.size-this.size/2),this.pointList.push(new n.Point(h+3*this.size,a+2*this.size)),h=Math.round(Math.random()*this.size-this.size/2),a=Math.round(Math.random()*this.size-this.size/2),this.color=o,this.lineWidth=r}}},function(t,e,i){"use strict";i.r(e);var n=i(1);const s=function t(e,{startX:i=0,startY:n=0,length:s=50,startAngle:o=0,angleRange:r=2*Math.PI,angle:h=0,angleSpread:a=2,lengthMultiple:d=1,dotSize:l=2,terminalLengthMultiplier:u=.5,terminalAngleRange:c=null,currentNode:m={}}={}){e.beginPath(),e.save(),e.translate(i,n),e.rotate(h),e.moveTo(0,0),e.lineTo(0,-s),e.strokeStyle="gray",e.stroke(),e.beginPath(),e.arc(0,-s,l,0,2*Math.PI),m.mirrorNum.isPrime?e.fillStyle="blue":e.fillStyle="red",e.fill();let g=m.children,p=Object.keys(g).length;0!==p||g.constructor!==Object?(Object.values(g).forEach((i,n)=>{let o=d*s,h=a*r/p;0===Object.keys(i.children).length&&(o=u*s,c&&(r=c)),t(e,{startX:0,startY:-s,length:o,lengthMultiple:d,angleRange:h,angle:r*n/p-r/2,terminalAngleRange:c,terminalLengthMultiplier:u,dotSize:l,currentNode:i})}),e.restore()):e.restore()};let o,r=void 0;const h=function(t,e,i,h,a){o=window.requestAnimationFrame(function t(e,i,h,a,d){return()=>{h.iterations=a.currentIteration,a.currentIteration++,e.clearRect(0,0,d.width,d.height),r=null==r?Object(n.b)(h):Object(n.a)(r,h),i.currentNode=r.nodeHash[h.seed],s(e,i),o=window.requestAnimationFrame(t(e,i,h,a,d),1e3/60)}}(t,e,i,h,a)),document.getElementById("stop-animation").addEventListener("click",()=>{console.log("clicked stop"),window.cancelAnimationFrame(o),r=void 0})};const a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),d=Math.max(document.documentElement.clientHeight,window.innerHeight||0),l=()=>{const t=document.getElementById("canvas");console.log("canvasEl",t),m(t);let e=t.getContext("2d");u(e,t),document.getElementById("mirror-options").addEventListener("change",()=>{m(t),u(e,t),function(){let t=document.getElementById("seed-input").value,e=document.getElementById("iterations-input").value,i=document.getElementById("max-child-nodes-input").value,n=document.getElementById("length-input").value,s=document.getElementById("spread-input").value,o=document.getElementById("length-multiple-input").value,r=document.getElementById("dot-size-input").value,h=document.getElementById("terminal-length-multiple-input").value,a=document.getElementById("terminal-angle-range-input").value;document.getElementById("seed-display").innerText=t,document.getElementById("iterations-display").innerText=e,document.getElementById("max-child-nodes-display").innerText=i,document.getElementById("length-display").innerText=n,document.getElementById("length-multiple-display").innerText=o,document.getElementById("spread-display").innerText=s,document.getElementById("dot-size-display").innerText=r,document.getElementById("terminal-length-multiple-display").innerText=h,document.getElementById("terminal-angle-range-display").innerText=a}()}),function(t,e){document.getElementById("start-animation").addEventListener("click",()=>{let{drawOptions:i,treeOptions:n,animateOptions:s}=c();t.clearRect(0,0,e.width,e.height),i.startX=e.width/2,i.startY=e.height/2,h(t,i,n,s,e)})}(e,t),function(){let t=document.getElementById("info");document.getElementById("info-header").addEventListener("click",()=>{"none"===t.style.display?t.style.display="block":t.style.display="none"})}()};function u(t,e){let{drawOptions:i,treeOptions:n,animateOptions:o}=c();i.startX=e.width/2,i.startY=e.height/2,t.clearRect(0,0,e.width,e.height),s(t,i)}function c(){let t=document.getElementById("seed-input").value,e=document.getElementById("iterations-input").value,i={seed:t,iterations:e,maxChildNodes:document.getElementById("max-child-nodes-input").value,showPrimes:document.getElementById("show-primes-input").checked,showComposites:document.getElementById("show-composites-input").checked},s=Object(n.b)(i),o=document.getElementById("length-input").value,r=document.getElementById("spread-input").value,h=document.getElementById("length-multiple-input").value,a=document.getElementById("dot-size-input").value,d=document.getElementById("terminal-length-multiple-input").value,l=document.getElementById("terminal-angle-range-input").value;return{drawOptions:{length:o,startAngle:0,angleRange:2*Math.PI,angle:0,angleSpread:r,dotSize:a,lengthMultiple:h,terminalLengthMultiplier:d,terminalAngleRange:l,currentNode:s.nodeHash[i.seed]},treeOptions:i,animateOptions:{currentIteration:0,maxIteration:e}}}function m(t){let e,i;i=a>1100?"1100px":a>800?"800px":a>600?"600px":a>500?"500px":"400px",e=d>1100?"900px":d>800?"900px":"400px",t.style.width=i,t.style.height=e,t.width=t.offsetWidth,t.height=t.offsetHeight}var g=()=>{};let p,f,M,y;const x=function t(){y=window.requestAnimationFrame(t),function(){let t=.002*(new Date).getTime(),e=192*Math.sin(t)+256,i=192*Math.cos(.9*t)+256;M=!M,f.fillStyle=M?"rgb(200,200,20)":"rgb(20,20,200)",f.beginPath(),f.arc(e,i,10,0,2*Math.PI,!0),f.closePath(),f.fill()}()};var w=function(){let t,e;console.log("initing circles"),(p=document.createElement("canvas")).width=512,p.height=512,f=p.getContext("2d"),document.body.appendChild(p),t=document.createElement("button"),e=document.createElement("button"),t.innerHTML="Stop",e.innerHTML="Start",document.body.appendChild(t),document.body.appendChild(e),y=window.requestAnimationFrame(x),t.addEventListener("click",()=>{window.cancelAnimationFrame(y)}),e.addEventListener("click",()=>{f.clearRect(0,0,p.width,p.height),y=window.requestAnimationFrame(x)})},v=i(0);var z=()=>{const t=document.getElementById("canvas");v.a.sizeCanvasMax(t);let e=t.getContext("2d");!function(t,e){var i=function(){let t="0";for(let e=0;e<17;e++){let e=t.split(""),i="";for(let t=0;t<e.length;t++)i+="0"===e[t]?"1":"0";t+=i}return t}().split("");e.translate(0,t.height),e.beginPath(),e.moveTo(0,0);for(var n=0;n<i.length;n++)"0"===i[n]?(e.translate(0,10),e.lineTo(0,10)):e.rotate(Math.PI/3);e.stroke()}(t,e)};const C=function(t,e){let i=t,n=e;for(let o=0;o<300;o++){var s=2*i*n+e;if((i=i*i-n*n+t)*(n=s)>5)return o/300*100}return 0},_=function(t,e){for(let i=0;i<t.width;i++)for(let n=0;n<t.height;n++){let t=C(i/200-2,n/200-1);0==t?(e.fillStyle="#000",e.fillRect(i,n,1,1)):(e.fillStyle="hsl(0, 100%, "+t+"%)",e.fillRect(i,n,1,1))}};var E=()=>{const t=document.getElementById("canvas");v.a.sizeCanvasMax(t);let e=t.getContext("2d");_(t,e)};let b=new Image,I=new Image,P=new Image;const B=function(t){b.src="https://mdn.mozillademos.org/files/1456/Canvas_sun.png",I.src="https://mdn.mozillademos.org/files/1443/Canvas_moon.png",P.src="https://mdn.mozillademos.org/files/1429/Canvas_earth.png",window.requestAnimationFrame(function t(e){return()=>{e.globalCompositeOperation="destination-over",e.clearRect(0,0,300,300),e.fillStyle="rgba(0, 0, 0, 0.4)",e.strokeStyle="rgba(0,153,255,0.4)",e.save(),e.translate(150,150);let i=new Date;e.rotate(2*Math.PI/60*i.getSeconds()+2*Math.PI/6e4*i.getMilliseconds()),e.translate(105,0),e.fillRect(0,-12,50,24),e.drawImage(P,-12,-12),e.save(),e.rotate(2*Math.PI/60*i.getSeconds()+2*Math.PI/6e4*i.getMilliseconds()),e.translate(0,28.5),e.drawImage(I,-3.5,-3.5),e.restore(),e.restore(),e.beginPath(),e.arc(150,150,105,0,2*Math.PI,!1),e.drawImage(b,0,0,300,300),window.requestAnimationFrame(t(e))}}(t))};var W=()=>{const t=document.getElementById("canvas");v.a.sizeCanvasMax(t);let e=t.getContext("2d");B(e)},O=i(3),k=i.n(O),L=i(4),T=i.n(L);window.addEventListener("DOMContentLoaded",()=>{switch(document.title){case"MirrorPrimeTree":l();break;case"Recaman":g();break;case"Circles":w();break;case"KochCurve":z();break;case"Mandlebrot":E();break;case"SolarSystem":W();break;case"Tree":k()();break;case"Asteroids":T()()}})}]);
//# sourceMappingURL=main.js.map